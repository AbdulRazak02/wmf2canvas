<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>WMF2Canvas</title>
<link rel="stylesheet" href="css/bootstrap.min.css">
<script src="js/sprintf.min.js"></script>
<script src="js/bundle.js"></script>
<script src="js/wmf.js"></script>
<script src="js/emf.js"></script>
<script>
window.onload = function() {
	
	let canvas = document.getElementById("canvas");
	let fileInput = document.getElementById("file");
	
	fileInput.onchange = function() {
	
		let file = this.files[0];
		
		if (file.type == "image/x-wmf") {
			let wmf = new WMFConverter();
			wmf.toCanvas(file, canvas, function(obj) {
				document.getElementById("exe_time").innerText = obj.executeTime.toFixed(2) + " (ms)";
			});
		} else if (file.type == "image/x-emf") {
			let emf = new EMFConverter();
			emf.toCanvas(file, canvas, function(obj) {
				//document.getElementById("exe_time").innerText = obj.executeTime.toFixed(2) + " (ms)";
			});
		}

	}
	
};
</script>
</head>

<body>

<div class="container">
	<h1>WMF2Canvas<sup>Beta</sup></h1>
	<h3>WMF (Windows Metafile)</h3>
	<br>
	<h4>Choose WMF file</h4>
	<input type="file" id="file" accept="image/x-wmf,image/x-emf"/>
	<h4>Result <span id="exe_time"></span></h4>
	<canvas id="canvas" class="img-thumbnail" style=""></canvas>
</div>

<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>

</body>
</html>